---
# Base role â€” for all Arch systems

- name: Ensure required packages are installed
  pacman:
    name:
      - git
      - neovim
      - tmux
    state: present
    update_cache: yes

- name: Clone dotfiles repo
  git:
    repo: "https://github.com/uchars/.files.git"
    dest: "{{ ansible_env.HOME }}/.files"
    version: main
    force: yes
  become: false

- name: Symlink nvim config
  file:
    src: "{{ ansible_env.HOME }}/.files/nvim"
    dest: "{{ ansible_env.HOME }}/.config/nvim"
    state: link
  become: false

- name: Symlink tmux config
  file:
    src: "{{ ansible_env.HOME }}/.files/tmux.conf"
    dest: "{{ ansible_env.HOME }}/.tmux.conf"
    state: link
  become: false

